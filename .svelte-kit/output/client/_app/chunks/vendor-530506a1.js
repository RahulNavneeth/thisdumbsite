function W(){}function dr(n,e){for(const t in e)n[t]=e[t];return n}function It(n){return n()}function _t(){return Object.create(null)}function pe(n){n.forEach(It)}function fr(n){return typeof n=="function"}function Dt(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Se;function _s(n,e){return Se||(Se=document.createElement("a")),Se.href=e,n===Se.href}function pr(n){return Object.keys(n).length===0}function bs(n,e,t,r){if(n){const i=Bt(n,e,t,r);return n[0](i)}}function Bt(n,e,t,r){return n[1]&&r?dr(t.ctx.slice(),n[1](r(e))):t.ctx}function gs(n,e,t,r){if(n[2]&&r){const i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function ws(n,e,t,r,i,s){if(i){const o=Bt(e,t,r,s);n.p(o,i)}}function Es(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function bt(n){return n==null?"":n}let Ue=!1;function mr(){Ue=!0}function vr(){Ue=!1}function yr(n,e,t,r){for(;n<e;){const i=n+(e-n>>1);t(i)<=r?n=i+1:e=i}return n}function _r(n){if(n.hydrate_init)return;n.hydrate_init=!0;let e=n.childNodes;if(n.nodeName==="HEAD"){const c=[];for(let l=0;l<e.length;l++){const u=e[l];u.claim_order!==void 0&&c.push(u)}e=c}const t=new Int32Array(e.length+1),r=new Int32Array(e.length);t[0]=-1;let i=0;for(let c=0;c<e.length;c++){const l=e[c].claim_order,u=(i>0&&e[t[i]].claim_order<=l?i+1:yr(1,i,p=>e[t[p]].claim_order,l))-1;r[c]=t[u]+1;const h=u+1;t[h]=c,i=Math.max(h,i)}const s=[],o=[];let a=e.length-1;for(let c=t[i]+1;c!=0;c=r[c-1]){for(s.push(e[c-1]);a>=c;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);s.reverse(),o.sort((c,l)=>c.claim_order-l.claim_order);for(let c=0,l=0;c<o.length;c++){for(;l<s.length&&o[c].claim_order>=s[l].claim_order;)l++;const u=l<s.length?s[l]:null;n.insertBefore(o[c],u)}}function Qe(n,e){if(Ue){for(_r(n),(n.actual_end_child===void 0||n.actual_end_child!==null&&n.actual_end_child.parentElement!==n)&&(n.actual_end_child=n.firstChild);n.actual_end_child!==null&&n.actual_end_child.claim_order===void 0;)n.actual_end_child=n.actual_end_child.nextSibling;e!==n.actual_end_child?(e.claim_order!==void 0||e.parentNode!==n)&&n.insertBefore(e,n.actual_end_child):n.actual_end_child=e.nextSibling}else(e.parentNode!==n||e.nextSibling!==null)&&n.appendChild(e)}function he(n,e,t){Ue&&!t?Qe(n,e):(e.parentNode!==n||e.nextSibling!=t)&&n.insertBefore(e,t||null)}function N(n){n.parentNode.removeChild(n)}function br(n){return document.createElement(n)}function V(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ut(n){return document.createTextNode(n)}function Ss(){return ut(" ")}function gt(){return ut("")}function Ts(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function v(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function K(n){return Array.from(n.childNodes)}function gr(n){n.claim_info===void 0&&(n.claim_info={last_index:0,total_claimed:0})}function Lt(n,e,t,r,i=!1){gr(n);const s=(()=>{for(let o=n.claim_info.last_index;o<n.length;o++){const a=n[o];if(e(a)){const c=t(a);return c===void 0?n.splice(o,1):n[o]=c,i||(n.claim_info.last_index=o),a}}for(let o=n.claim_info.last_index-1;o>=0;o--){const a=n[o];if(e(a)){const c=t(a);return c===void 0?n.splice(o,1):n[o]=c,i?c===void 0&&n.claim_info.last_index--:n.claim_info.last_index=o,a}}return r()})();return s.claim_order=n.claim_info.total_claimed,n.claim_info.total_claimed+=1,s}function Mt(n,e,t,r){return Lt(n,i=>i.nodeName===e,i=>{const s=[];for(let o=0;o<i.attributes.length;o++){const a=i.attributes[o];t[a.name]||s.push(a.name)}s.forEach(o=>i.removeAttribute(o))},()=>r(e))}function ks(n,e,t){return Mt(n,e,t,br)}function ne(n,e,t){return Mt(n,e,t,V)}function wr(n,e){return Lt(n,t=>t.nodeType===3,t=>{const r=""+e;if(t.data.startsWith(r)){if(t.data.length!==r.length)return t.splitText(r.length)}else t.data=r},()=>ut(e),!0)}function Os(n){return wr(n," ")}function Cs(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function As(n,e){n.value=e==null?"":e}function Rs(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}let de;function ce(n){de=n}function ct(){if(!de)throw new Error("Function called outside component initialization");return de}function js(n){ct().$$.on_mount.push(n)}function xs(n){ct().$$.after_update.push(n)}function $s(n,e){ct().$$.context.set(n,e)}const ue=[],wt=[],Re=[],Et=[],Ft=Promise.resolve();let Ze=!1;function Ht(){Ze||(Ze=!0,Ft.then(qt))}function Ps(){return Ht(),Ft}function et(n){Re.push(n)}const ze=new Set;let Te=0;function qt(){const n=de;do{for(;Te<ue.length;){const e=ue[Te];Te++,ce(e),Er(e.$$)}for(ce(null),ue.length=0,Te=0;wt.length;)wt.pop()();for(let e=0;e<Re.length;e+=1){const t=Re[e];ze.has(t)||(ze.add(t),t())}Re.length=0}while(ue.length);for(;Et.length;)Et.pop()();Ze=!1,ze.clear(),ce(n)}function Er(n){if(n.fragment!==null){n.update(),pe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(et)}}const je=new Set;let J;function Us(){J={r:0,c:[],p:J}}function Ns(){J.r||pe(J.c),J=J.p}function Sr(n,e){n&&n.i&&(je.delete(n),n.i(e))}function Is(n,e,t,r){if(n&&n.o){if(je.has(n))return;je.add(n),J.c.push(()=>{je.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}}function Ds(n,e){const t={},r={},i={$$scope:1};let s=n.length;for(;s--;){const o=n[s],a=e[s];if(a){for(const c in o)c in a||(r[c]=1);for(const c in a)i[c]||(t[c]=a[c],i[c]=1);n[s]=a}else for(const c in o)i[c]=1}for(const o in r)o in t||(t[o]=void 0);return t}function Bs(n){return typeof n=="object"&&n!==null?n:{}}function Ls(n){n&&n.c()}function Ms(n,e){n&&n.l(e)}function Tr(n,e,t,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=n.$$;i&&i.m(e,t),r||et(()=>{const c=s.map(It).filter(fr);o?o.push(...c):pe(c),n.$$.on_mount=[]}),a.forEach(et)}function kr(n,e){const t=n.$$;t.fragment!==null&&(pe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Or(n,e){n.$$.dirty[0]===-1&&(ue.push(n),Ht(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Cr(n,e,t,r,i,s,o,a=[-1]){const c=de;ce(n);const l=n.$$={fragment:null,ctx:null,props:s,update:W,not_equal:i,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_t(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=t?t(n,e.props||{},(h,p,...b)=>{const _=b.length?b[0]:p;return l.ctx&&i(l.ctx[h],l.ctx[h]=_)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](_),u&&Or(n,h)),p}):[],l.update(),u=!0,pe(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){mr();const h=K(e.target);l.fragment&&l.fragment.l(h),h.forEach(N)}else l.fragment&&l.fragment.c();e.intro&&Sr(n.$$.fragment),Tr(n,e.target,e.anchor,e.customElement),vr(),qt()}ce(c)}class Ar{$destroy(){kr(this,1),this.$destroy=W}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!pr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function Fs(n,e=W){let t;const r=new Set;function i(a){if(Dt(n,a)&&(n=a,t)){const c=!Y.length;for(const l of r)l[1](),Y.push(l,n);if(c){for(let l=0;l<Y.length;l+=2)Y[l][0](Y[l+1]);Y.length=0}}}function s(a){i(a(n))}function o(a,c=W){const l=[a,c];return r.add(l),r.size===1&&(t=e(i)||W),a(n),()=>{r.delete(l),r.size===0&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}/*!
 * Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Hs={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"]},Rr={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},qs=Rr,zs={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"]};const ke=parseFloat;function Pe(n,e=";"){let t;if(Array.isArray(n))t=n.filter(r=>r);else{t=[];for(const r in n)n[r]&&t.push(`${r}:${n[r]}`)}return t.join(e)}function jr(n,e,t,r){let i,s;const o="1em";let a,c,l,u="-.125em";const h="visible";return r&&(l="center",s="1.25em"),t&&(i=t),e&&(e=="lg"?(c="1.33333em",a=".75em",u="-.225em"):e=="xs"?c=".75em":e=="sm"?c=".875em":c=e.replace("x","em")),Pe([Pe({float:i,width:s,height:o,"line-height":a,"font-size":c,"text-align":l,"vertical-align":u,"transform-origin":"center",overflow:h}),n])}function xr(n,e,t,r,i,s=1,o="",a=""){let c=1,l=1;return i&&(i=="horizontal"?c=-1:i=="vertical"?l=-1:c=l=-1),Pe([`translate(${ke(e)*s}${o},${ke(t)*s}${o})`,`scale(${c*ke(n)},${l*ke(n)})`,r&&`rotate(${r}${a})`]," ")}function St(n){let e,t,r,i,s,o,a;function c(h,p){return typeof h[7][4]=="string"?Pr:$r}let l=c(n),u=l(n);return{c(){e=V("svg"),t=V("g"),r=V("g"),u.c(),this.h()},l(h){e=ne(h,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var p=K(e);t=ne(p,"g",{transform:!0,"transform-origin":!0});var b=K(t);r=ne(b,"g",{transform:!0});var _=K(r);u.l(_),_.forEach(N),b.forEach(N),p.forEach(N),this.h()},h(){v(r,"transform",n[10]),v(t,"transform",i=`translate(${n[7][0]/2} ${n[7][1]/2})`),v(t,"transform-origin",s=`${n[7][0]/4} 0`),v(e,"id",n[0]),v(e,"class",o=bt(n[8])+" svelte-1cj2gr0"),v(e,"style",n[9]),v(e,"viewBox",a=`0 0 ${n[7][0]} ${n[7][1]}`),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"xmlns","http://www.w3.org/2000/svg")},m(h,p){he(h,e,p),Qe(e,t),Qe(t,r),u.m(r,null)},p(h,p){l===(l=c(h))&&u?u.p(h,p):(u.d(1),u=l(h),u&&(u.c(),u.m(r,null))),p&1024&&v(r,"transform",h[10]),p&128&&i!==(i=`translate(${h[7][0]/2} ${h[7][1]/2})`)&&v(t,"transform",i),p&128&&s!==(s=`${h[7][0]/4} 0`)&&v(t,"transform-origin",s),p&1&&v(e,"id",h[0]),p&256&&o!==(o=bt(h[8])+" svelte-1cj2gr0")&&v(e,"class",o),p&512&&v(e,"style",h[9]),p&128&&a!==(a=`0 0 ${h[7][0]} ${h[7][1]}`)&&v(e,"viewBox",a)},d(h){h&&N(e),u.d()}}}function $r(n){let e,t,r,i,s,o,a,c,l,u;return{c(){e=V("path"),o=V("path"),this.h()},l(h){e=ne(h,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),K(e).forEach(N),o=ne(h,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),K(o).forEach(N),this.h()},h(){v(e,"d",t=n[7][4][0]),v(e,"fill",r=n[3]||n[1]||"currentColor"),v(e,"fill-opacity",i=n[6]!=!1?n[4]:n[5]),v(e,"transform",s=`translate(${n[7][0]/-2} ${n[7][1]/-2})`),v(o,"d",a=n[7][4][1]),v(o,"fill",c=n[2]||n[1]||"currentColor"),v(o,"fill-opacity",l=n[6]!=!1?n[5]:n[4]),v(o,"transform",u=`translate(${n[7][0]/-2} ${n[7][1]/-2})`)},m(h,p){he(h,e,p),he(h,o,p)},p(h,p){p&128&&t!==(t=h[7][4][0])&&v(e,"d",t),p&10&&r!==(r=h[3]||h[1]||"currentColor")&&v(e,"fill",r),p&112&&i!==(i=h[6]!=!1?h[4]:h[5])&&v(e,"fill-opacity",i),p&128&&s!==(s=`translate(${h[7][0]/-2} ${h[7][1]/-2})`)&&v(e,"transform",s),p&128&&a!==(a=h[7][4][1])&&v(o,"d",a),p&6&&c!==(c=h[2]||h[1]||"currentColor")&&v(o,"fill",c),p&112&&l!==(l=h[6]!=!1?h[5]:h[4])&&v(o,"fill-opacity",l),p&128&&u!==(u=`translate(${h[7][0]/-2} ${h[7][1]/-2})`)&&v(o,"transform",u)},d(h){h&&N(e),h&&N(o)}}}function Pr(n){let e,t,r,i;return{c(){e=V("path"),this.h()},l(s){e=ne(s,"path",{d:!0,fill:!0,transform:!0}),K(e).forEach(N),this.h()},h(){v(e,"d",t=n[7][4]),v(e,"fill",r=n[1]||n[2]||"currentColor"),v(e,"transform",i=`translate(${n[7][0]/-2} ${n[7][1]/-2})`)},m(s,o){he(s,e,o)},p(s,o){o&128&&t!==(t=s[7][4])&&v(e,"d",t),o&6&&r!==(r=s[1]||s[2]||"currentColor")&&v(e,"fill",r),o&128&&i!==(i=`translate(${s[7][0]/-2} ${s[7][1]/-2})`)&&v(e,"transform",i)},d(s){s&&N(e)}}}function Ur(n){let e,t=n[7][4]&&St(n);return{c(){t&&t.c(),e=gt()},l(r){t&&t.l(r),e=gt()},m(r,i){t&&t.m(r,i),he(r,e,i)},p(r,[i]){r[7][4]?t?t.p(r,i):(t=St(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(r){t&&t.d(r),r&&N(e)}}}function Nr(n,e,t){let{class:r=""}=e,{id:i=""}=e,{style:s=""}=e,{icon:o}=e,{size:a=""}=e,{color:c=""}=e,{fw:l=!1}=e,{pull:u=""}=e,{scale:h=1}=e,{translateX:p=0}=e,{translateY:b=0}=e,{rotate:_=""}=e,{flip:C=!1}=e,{spin:S=!1}=e,{pulse:P=!1}=e,{primaryColor:U=""}=e,{secondaryColor:X=""}=e,{primaryOpacity:M=1}=e,{secondaryOpacity:se=.4}=e,{swapOpacity:_e=!1}=e,be,D,ge,we;return n.$$set=m=>{"class"in m&&t(11,r=m.class),"id"in m&&t(0,i=m.id),"style"in m&&t(12,s=m.style),"icon"in m&&t(13,o=m.icon),"size"in m&&t(14,a=m.size),"color"in m&&t(1,c=m.color),"fw"in m&&t(15,l=m.fw),"pull"in m&&t(16,u=m.pull),"scale"in m&&t(17,h=m.scale),"translateX"in m&&t(18,p=m.translateX),"translateY"in m&&t(19,b=m.translateY),"rotate"in m&&t(20,_=m.rotate),"flip"in m&&t(21,C=m.flip),"spin"in m&&t(22,S=m.spin),"pulse"in m&&t(23,P=m.pulse),"primaryColor"in m&&t(2,U=m.primaryColor),"secondaryColor"in m&&t(3,X=m.secondaryColor),"primaryOpacity"in m&&t(4,M=m.primaryOpacity),"secondaryOpacity"in m&&t(5,se=m.secondaryOpacity),"swapOpacity"in m&&t(6,_e=m.swapOpacity)},n.$$.update=()=>{n.$$.dirty&8192&&t(7,be=o&&o.icon||[0,0,"",[],""]),n.$$.dirty&12584960&&t(8,D=Pe([r,"svelte-fa",S&&"spin",P&&"pulse"]," ")),n.$$.dirty&118784&&t(9,ge=jr(s,a,u,l)),n.$$.dirty&4063232&&t(10,we=xr(h,p,b,_,C,512))},[i,c,U,X,M,se,_e,be,D,ge,we,r,s,o,a,l,u,h,p,b,_,C,S,P]}class Gs extends Ar{constructor(e){super();Cr(this,e,Nr,Ur,Dt,{class:11,id:0,style:12,icon:13,size:14,color:1,fw:15,pull:16,scale:17,translateX:18,translateY:19,rotate:20,flip:21,spin:22,pulse:23,primaryColor:2,secondaryColor:3,primaryOpacity:4,secondaryOpacity:5,swapOpacity:6})}}const Ir="1.30.7",zt={"X-Client-Info":`supabase-js/${Ir}`},Dr="supabase.auth.token";function Br(n){return n.replace(/\/$/,"")}const Lr=()=>typeof window!="undefined";var me=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const Mr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Fr=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:Mr(t),status:(n==null?void 0:n.status)||500}))},Hr=(n,e,t)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(t)),r};function Ne(n,e,t,r,i){return me(this,void 0,void 0,function*(){return new Promise((s,o)=>{n(t,Hr(e,r,i)).then(a=>{if(!a.ok)throw a;return(r==null?void 0:r.noResolveJson)?s:a.json()}).then(a=>s(a)).catch(a=>Fr(a,o))})})}function Ge(n,e,t){return me(this,void 0,void 0,function*(){return Ne(n,"GET",e,t)})}function A(n,e,t,r){return me(this,void 0,void 0,function*(){return Ne(n,"POST",e,r,t)})}function Tt(n,e,t,r){return me(this,void 0,void 0,function*(){return Ne(n,"PUT",e,r,t)})}function qr(n,e,t,r){return me(this,void 0,void 0,function*(){return Ne(n,"DELETE",e,r,t)})}const zr="1.22.3",Gr="http://localhost:9999",Jr={"X-Client-Info":`gotrue-js/${zr}`},ae="supabase.auth.token",Wr={name:"sb",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function Vr(n,e,t){const r=t||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!s.test(n))throw new TypeError("argument name is invalid");const o=i(e);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=n+"="+o;if(r.maxAge!=null){const c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Kr(n){if(!n||!n.headers||!n.headers.host)throw new Error('The "host" request header is not available');const e=n.headers.host.indexOf(":")>-1&&n.headers.host.split(":")[0]||n.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Xr(n,e){var t,r,i;return Vr(n.name,n.value,{maxAge:n.maxAge,expires:new Date(Date.now()+n.maxAge*1e3),httpOnly:!0,secure:e,path:(t=n.path)!==null&&t!==void 0?t:"/",domain:(r=n.domain)!==null&&r!==void 0?r:"",sameSite:(i=n.sameSite)!==null&&i!==void 0?i:"lax"})}function tt(n,e,t){const r=t.map(s=>Xr(s,Kr(n))),i=e.getHeader("Set-Cookie");return i&&(i instanceof Array?Array.prototype.push.apply(r,i):typeof i=="string"&&r.push(i)),r}function Oe(n,e,t){e.setHeader("Set-Cookie",tt(n,e,t))}var Yr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rt={exports:{}};(function(n,e){var t=typeof self!="undefined"?self:Yr,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(d){return d&&l.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function p(d){return typeof d!="string"&&(d=String(d)),d}function b(d){var f={next:function(){var y=d.shift();return{done:y===void 0,value:y}}};return a.iterable&&(f[Symbol.iterator]=function(){return f}),f}function _(d){this.map={},d instanceof _?d.forEach(function(f,y){this.append(y,f)},this):Array.isArray(d)?d.forEach(function(f){this.append(f[0],f[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(f){this.append(f,d[f])},this)}_.prototype.append=function(d,f){d=h(d),f=p(f);var y=this.map[d];this.map[d]=y?y+", "+f:f},_.prototype.delete=function(d){delete this.map[h(d)]},_.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},_.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},_.prototype.set=function(d,f){this.map[h(d)]=p(f)},_.prototype.forEach=function(d,f){for(var y in this.map)this.map.hasOwnProperty(y)&&d.call(f,this.map[y],y,this)},_.prototype.keys=function(){var d=[];return this.forEach(function(f,y){d.push(y)}),b(d)},_.prototype.values=function(){var d=[];return this.forEach(function(f){d.push(f)}),b(d)},_.prototype.entries=function(){var d=[];return this.forEach(function(f,y){d.push([y,f])}),b(d)},a.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function C(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function S(d){return new Promise(function(f,y){d.onload=function(){f(d.result)},d.onerror=function(){y(d.error)}})}function P(d){var f=new FileReader,y=S(f);return f.readAsArrayBuffer(d),y}function U(d){var f=new FileReader,y=S(f);return f.readAsText(d),y}function X(d){for(var f=new Uint8Array(d),y=new Array(f.length),O=0;O<f.length;O++)y[O]=String.fromCharCode(f[O]);return y.join("")}function M(d){if(d.slice)return d.slice(0);var f=new Uint8Array(d.byteLength);return f.set(new Uint8Array(d)),f.buffer}function se(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&c(d)?(this._bodyArrayBuffer=M(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||u(d))?this._bodyArrayBuffer=M(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var d=C(this);if(d)return d;if(this._bodyBlob)return U(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(X(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(ge)}),this.json=function(){return this.text().then(JSON.parse)},this}var _e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function be(d){var f=d.toUpperCase();return _e.indexOf(f)>-1?f:d}function D(d,f){f=f||{};var y=f.body;if(d instanceof D){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,f.headers||(this.headers=new _(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!y&&d._bodyInit!=null&&(y=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new _(f.headers)),this.method=be(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function ge(d){var f=new FormData;return d.trim().split("&").forEach(function(y){if(y){var O=y.split("="),T=O.shift().replace(/\+/g," "),g=O.join("=").replace(/\+/g," ");f.append(decodeURIComponent(T),decodeURIComponent(g))}}),f}function we(d){var f=new _,y=d.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(O){var T=O.split(":"),g=T.shift().trim();if(g){var Ee=T.join(":").trim();f.append(g,Ee)}}),f}se.call(D.prototype);function m(d,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new _(f.headers),this.url=f.url||"",this._initBody(d)}se.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},m.error=function(){var d=new m(null,{status:0,statusText:""});return d.type="error",d};var hr=[301,302,303,307,308];m.redirect=function(d,f){if(hr.indexOf(f)===-1)throw new RangeError("Invalid status code");return new m(null,{status:f,headers:{location:d}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(f,y){this.message=f,this.name=y;var O=Error(f);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function He(d,f){return new Promise(function(y,O){var T=new D(d,f);if(T.signal&&T.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var g=new XMLHttpRequest;function Ee(){g.abort()}g.onload=function(){var oe={status:g.status,statusText:g.statusText,headers:we(g.getAllResponseHeaders()||"")};oe.url="responseURL"in g?g.responseURL:oe.headers.get("X-Request-URL");var qe="response"in g?g.response:g.responseText;y(new m(qe,oe))},g.onerror=function(){O(new TypeError("Network request failed"))},g.ontimeout=function(){O(new TypeError("Network request failed"))},g.onabort=function(){O(new o.DOMException("Aborted","AbortError"))},g.open(T.method,T.url,!0),T.credentials==="include"?g.withCredentials=!0:T.credentials==="omit"&&(g.withCredentials=!1),"responseType"in g&&a.blob&&(g.responseType="blob"),T.headers.forEach(function(oe,qe){g.setRequestHeader(qe,oe)}),T.signal&&(T.signal.addEventListener("abort",Ee),g.onreadystatechange=function(){g.readyState===4&&T.signal.removeEventListener("abort",Ee)}),g.send(typeof T._bodyInit=="undefined"?null:T._bodyInit)})}return He.polyfill=!0,s.fetch||(s.fetch=He,s.Headers=_,s.Request=D,s.Response=m),o.Headers=_,o.Request=D,o.Response=m,o.fetch=He,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(rt,rt.exports);var lt=Qr(rt.exports);function Q(n){return Math.round(Date.now()/1e3)+n}function Zr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const F=()=>typeof window!="undefined";function H(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const en=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=lt:e=fetch,(...t)=>e(...t)};var E=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class tn{constructor({url:e="",headers:t={},cookieOptions:r,fetch:i}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Wr),r),this.fetch=en(i)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];return(t==null?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(t==null?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return E(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let s="";r.redirectTo&&(s="?redirect_to="+encodeURIComponent(r.redirectTo));const o=yield A(this.fetch,`${this.url}/signup${s}`,{email:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:i}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Q(o.expires_in)),{data:a,error:null}}catch(i){return{data:null,error:i}}})}signInWithEmail(e,t,r={}){return E(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let s="?grant_type=password";r.redirectTo&&(s+="&redirect_to="+encodeURIComponent(r.redirectTo));const o=yield A(this.fetch,`${this.url}/token${s}`,{email:e,password:t},{headers:i}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Q(o.expires_in)),{data:a,error:null}}catch(i){return{data:null,error:i}}})}signUpWithPhone(e,t,r={}){return E(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),s=yield A(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:i}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Q(s.expires_in)),{data:o,error:null}}catch(i){return{data:null,error:i}}})}signInWithPhone(e,t){return E(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),i="?grant_type=password",s=yield A(this.fetch,`${this.url}/token${i}`,{phone:e,password:t},{headers:r}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Q(s.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return E(this,void 0,void 0,function*(){try{const o=Object.assign({},this.headers),a="?grant_type=id_token",c=yield A(this.fetch,`${this.url}/token${a}`,{id_token:e,nonce:t,client_id:r,issuer:i,provider:s},{headers:o}),l=Object.assign({},c);return l.expires_in&&(l.expires_at=Q(c.expires_in)),{data:l,error:null}}catch(o){return{data:null,error:o}}})}sendMagicLinkEmail(e,t={}){return E(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo));const s=t.shouldCreateUser?t.shouldCreateUser:!0;return{data:yield A(this.fetch,`${this.url}/otp${i}`,{email:e,create_user:s,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}sendMobileOTP(e,t={}){return E(this,void 0,void 0,function*(){try{const r=t.shouldCreateUser?t.shouldCreateUser:!0,i=Object.assign({},this.headers);return{data:yield A(this.fetch,`${this.url}/otp`,{phone:e,create_user:r,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:i}),error:null}}catch(r){return{data:null,error:r}}})}signOut(e){return E(this,void 0,void 0,function*(){try{return yield A(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,r={}){return E(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);return{data:yield A(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}inviteUserByEmail(e,t={}){return E(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield A(this.fetch,`${this.url}/invite${i}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return E(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield A(this.fetch,`${this.url}/recover${i}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}refreshAccessToken(e){return E(this,void 0,void 0,function*(){try{const t=yield A(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=Q(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:i}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");Oe(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(s=>{var o;return{name:`${this.cookieName()}-${s.key}`,value:s.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}r==="SIGNED_OUT"&&Oe(e,t,["access-token","refresh-token"].map(s=>({name:`${this.cookieName()}-${s}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return Oe(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))),t.redirect(307,r)}getAuthCookieString(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:i}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");return tt(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(s=>{var o;return{name:`${this.cookieName()}-${s.key}`,value:s.value,domain:this.cookieOptions.domain,maxAge:(o=this.cookieOptions.lifetime)!==null&&o!==void 0?o:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return r==="SIGNED_OUT"?tt(e,t,["access-token","refresh-token"].map(s=>({name:`${this.cookieName()}-${s}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return E(this,void 0,void 0,function*(){try{return{data:yield A(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(i){return{data:null,error:i}}})}createUser(e){return E(this,void 0,void 0,function*(){try{const t=yield A(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return E(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return E(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e,t){return E(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[`${this.cookieName()}-access-token`],i=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw new Error("No cookie found!");const{user:s,error:o}=yield this.getUser(r);if(o){if(!i)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:a,error:c}=yield this.refreshAccessToken(i);if(c)throw c;if(a)return Oe(e,t,[{key:"access-token",value:a.access_token},{key:"refresh-token",value:a.refresh_token}].map(l=>{var u;return{name:`${this.cookieName()}-${l.key}`,value:l.value,domain:this.cookieOptions.domain,maxAge:(u=this.cookieOptions.lifetime)!==null&&u!==void 0?u:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:a.access_token,user:a.user,data:a.user,error:null}}return{token:r,user:s,data:s,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}updateUserById(e,t){return E(this,void 0,void 0,function*(){try{const r=yield Tt(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e){return E(this,void 0,void 0,function*(){try{const t=yield qr(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return E(this,void 0,void 0,function*(){try{const t=yield Ge(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return E(this,void 0,void 0,function*(){try{const r=yield Tt(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}}function rn(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var R=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};rn();const nn={url:Gr,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Jr};class sn{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},nn),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new tn({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),t.detectSessionInUrl&&F()&&!!H("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:r})=>{r&&console.error("Error getting session from URL.",r)})}signUp({email:e,password:t,phone:r},i={}){return R(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:o}=r&&t?yield this.api.signUpWithPhone(r,t,{data:i.data,captchaToken:i.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:i.redirectTo,data:i.data,captchaToken:i.captchaToken});if(o)throw o;if(!s)throw"An error occurred on sign up.";let a=null,c=null;return s.access_token&&(a=s,c=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(c=s),{user:c,session:a,error:null}}catch(s){return{user:null,session:null,error:s}}})}signIn({email:e,phone:t,password:r,refreshToken:i,provider:s,oidc:o},a={}){return R(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:c}=yield this.api.sendMagicLinkEmail(e,{redirectTo:a.redirectTo,shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:c}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:a.redirectTo});if(t&&!r){const{error:c}=yield this.api.sendMobileOTP(t,{shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:c}}if(t&&r)return this._handlePhoneSignIn(t,r);if(i){const{error:c}=yield this._callRefreshToken(i);if(c)throw c;return{user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:a.redirectTo,scopes:a.scopes});if(o)return this._handleOpenIDConnectSignIn(o);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(c){return{user:null,session:null,error:c}}})}verifyOTP({phone:e,token:t},r={}){return R(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:s}=yield this.api.verifyMobileOTP(e,t,r);if(s)throw s;if(!i)throw"An error occurred on token verification.";let o=null,a=null;return i.access_token&&(o=i,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{user:a,session:o,error:null}}catch(i){return{user:null,session:null,error:i}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return R(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return R(this,void 0,void 0,function*(){try{if(!((t=this.currentSession)===null||t===void 0?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:i}=yield this.api.updateUser(this.currentSession.access_token,e);if(i)throw i;if(!r)throw Error("Invalid user data.");const s=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return R(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return R(this,void 0,void 0,function*(){try{if(!F())throw new Error("No browser detected.");const t=H("error_description");if(t)throw new Error(t);const r=H("provider_token"),i=H("access_token");if(!i)throw new Error("No access_token detected.");const s=H("expires_in");if(!s)throw new Error("No expires_in detected.");const o=H("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=H("token_type");if(!a)throw new Error("No token_type detected.");const l=Math.round(Date.now()/1e3)+parseInt(s),{user:u,error:h}=yield this.api.getUser(i);if(h)throw h;const p={provider_token:r,access_token:i,expires_in:parseInt(s),expires_at:l,refresh_token:o,token_type:a,user:u};if(e==null?void 0:e.storeSession){this._saveSession(p);const b=H("type");this._notifyAllSubscribers("SIGNED_IN"),b==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:p,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return R(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t=Zr(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var i,s;return R(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return a||!o?{data:null,user:null,session:null,error:a}:((((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.confirmed_at)||((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,t){var r;return R(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.api.signInWithPhone(e,t);return s||!i?{data:null,user:null,session:null,error:s}:(((r=i==null?void 0:i.user)===null||r===void 0?void 0:r.phone_confirmed_at)&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),{data:i,user:i.user,session:i,error:null})}catch(i){return{data:null,user:null,session:null,error:i}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return F()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(i){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:i}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return R(this,void 0,void 0,function*(){if(e&&t&&(r&&i||s))try{const{data:o,error:a}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s});return a||!o?{user:null,session:null,error:a}:(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN"),{user:o.user,session:o,error:null})}catch(o){return{user:null,session:null,error:o}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){var e;try{const t=F()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(ae));if(!t||typeof t!="string")return null;const r=JSON.parse(t),{currentSession:i,expiresAt:s}=r,o=Math.round(Date.now()/1e3);s>=o&&(i==null?void 0:i.user)&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){console.log("error",t)}}_recoverAndRefresh(){return R(this,void 0,void 0,function*(){try{const e=F()&&(yield this.localStorage.getItem(ae));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:i}=t,s=Math.round(Date.now()/1e3);if(i<s)if(this.autoRefreshToken&&r.refresh_token){const{error:o}=yield this._callRefreshToken(r.refresh_token);o&&(console.log(o.message),yield this._removeSession())}else this._removeSession();else!r||!r.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),R(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:i}=yield this.api.refreshAccessToken(e);if(i)throw i;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),i=t-r,s=i>60?60:.5;this._startAutoRefreshToken((i-s)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};F()&&this.localStorage.setItem(ae,JSON.stringify(t))}_removeSession(){return R(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),F()&&(yield this.localStorage.removeItem(ae))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!F()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===ae){const r=JSON.parse(String(e.newValue));((t=r==null?void 0:r.currentSession)===null||t===void 0?void 0:t.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class on extends sn{constructor(e){super(e)}}var an=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class ht{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e);let t;e.fetch?t=e.fetch:typeof fetch=="undefined"?t=lt:t=fetch,this.fetch=(...r)=>t(...r)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>an(this,void 0,void 0,function*(){var s,o,a;let c=null,l=null,u=null;if(i.ok){const p=(s=this.headers.Prefer)===null||s===void 0?void 0:s.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!p){const C=yield i.text();C&&(this.headers.Accept==="text/csv"?l=C:l=JSON.parse(C))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&_&&_.length>1&&(u=parseInt(_[1]))}else{const p=yield i.text();try{c=JSON.parse(p)}catch{c={message:p}}if(c&&this.shouldThrowOnError)throw c}return{error:c,data:l,count:u,status:i.status,statusText:i.statusText,body:l}}));return this.shouldThrowOnError||(r=r.catch(i=>({error:{message:`FetchError: ${i.message}`,details:"",hint:"",code:i.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class dt extends ht{select(e="*"){let t=!1;const r=e.split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:i}={}){const s=typeof i=="undefined"?"order":`${i}.order`,o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const i=typeof r=="undefined"?"offset":`${r}.offset`,s=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new dt(this);return e.then=(t,r)=>this.then(i=>{var s,o;return((o=(s=i.error)===null||s===void 0?void 0:s.details)===null||o===void 0?void 0:o.includes("Results contain 0 rows"))?t({error:null,data:null,count:i.count,status:200,statusText:"OK",body:null}):t(i)},r),e}csv(){return this.headers.Accept="text/csv",this}}class re extends dt{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i=null}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${s}fts${o}.${t}`),this}fts(e,t,{config:r}={}){const i=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${i}.${t}`),this}plfts(e,t,{config:r}={}){const i=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${i}.${t}`),this}phfts(e,t,{config:r}={}){const i=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${i}.${t}`),this}wfts(e,t,{config:r}={}){const i=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${i}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class Gt extends ht{constructor(e,{headers:t={},schema:r,fetch:i}={}){super({fetch:i});this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let i=!1;const s=e.split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new re(this)}insert(e,{upsert:t=!1,onConflict:r,returning:i="representation",count:s=null}={}){this.method="POST";const o=[`return=${i}`];if(t&&o.push("resolution=merge-duplicates"),t&&r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){const c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new re(this)}upsert(e,{onConflict:t,returning:r="representation",count:i=null,ignoreDuplicates:s=!1}={}){this.method="POST";const o=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${r}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new re(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const i=[`return=${t}`];return this.body=e,r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new re(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new re(this)}}class un extends ht{constructor(e,{headers:t={},schema:r,fetch:i}={}){super({fetch:i});this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([i,s])=>{this.url.searchParams.append(i,s)})):(this.method="POST",this.body=e),r&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new re(this)}}const cn="0.36.2",ln={"X-Client-Info":`postgrest-js/${cn}`};class hn{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ln),t),this.schema=r,this.fetch=i}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new Gt(t,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(e,t,{head:r=!1,count:i=null}={}){const s=`${this.url}/rpc/${e}`;return new un(s,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(t,{head:r,count:i})}}var w;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(w||(w={}));const kt=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=dn(o,n,e,i),s),{})},dn=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?Jt(s,o):nt(o)},Jt=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return vn(e,t)}switch(n){case w.bool:return fn(e);case w.float4:case w.float8:case w.int2:case w.int4:case w.int8:case w.numeric:case w.oid:return pn(e);case w.json:case w.jsonb:return mn(e);case w.timestamp:return yn(e);case w.abstime:case w.date:case w.daterange:case w.int4range:case w.int8range:case w.money:case w.reltime:case w.text:case w.time:case w.timestamptz:case w.timetz:case w.tsrange:case w.tstzrange:return nt(e);default:return nt(e)}},nt=n=>n,fn=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},pn=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},mn=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},vn=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Jt(e,a))}return n},yn=n=>typeof n=="string"?n.replace(" ","T"):n,_n="1.3.6",bn={"X-Client-Info":`realtime-js/${_n}`},gn="1.0.0",Wt=1e4,wn=1e3;var le;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(le||(le={}));var j;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(j||(j={}));var I;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(I||(I={}));var it;(function(n){n.websocket="websocket"})(it||(it={}));class Vt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Je{constructor(e,t,r={},i=Wt){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class En{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=j.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Je(this,I.join,this.params,this.timeout),this.rejoinTimer=new Vt(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=j.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=j.closed,this.socket.remove(this)}),this.onError(i=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=j.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=j.errored,this.rejoinTimer.scheduleTimeout())}),this.on(I.reply,(i,s)=>{this.trigger(this.replyEventName(s),i)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(I.close,e)}onError(e){this.on(I.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Je(this,e,t,r);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=j.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(I.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new Je(this,I.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=j.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:i,error:s,leave:o,join:a}=I;if(r&&[i,s,o,a].indexOf(e)>=0&&r!==this.joinRef())return;let l=this.onMessage(e,t,r);if(t&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>u.event==="*"?e===(t==null?void 0:t.type):u.event===e).map(u=>u.callback(l,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===j.closed}isErrored(){return this.state===j.errored}isJoined(){return this.state===j.joined}isJoining(){return this.state===j.joining}isLeaving(){return this.state===j.leaving}}const Sn="websocket",Tn="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",kn=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],On="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Cn=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],An="1.0.34",Rn={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},jn="https://github.com/theturtle32/WebSocket-Node",xn={node:">=4.0.0"},$n={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Pn={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Un={verbose:!1},Nn={test:"tape test/unit/*.js",gulp:"gulp"},In="index",Dn={lib:"./lib"},Bn="lib/browser.js",Ln="Apache-2.0";var Mn={name:Sn,description:Tn,keywords:kn,author:On,contributors:Cn,version:An,repository:Rn,homepage:jn,engines:xn,dependencies:$n,devDependencies:Pn,config:Un,scripts:Nn,main:In,directories:Dn,browser:Bn,license:Ln},Fn=Mn.version,z;if(typeof globalThis=="object")z=globalThis;else try{z=require("es5-ext/global")}catch{}finally{if(!z&&typeof window!="undefined"&&(z=window),!z)throw new Error("Could not determine global this")}var fe=z.WebSocket||z.MozWebSocket,Hn=Fn;function Kt(n,e){var t;return e?t=new fe(n,e):t=new fe(n),t}fe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(Kt,n,{get:function(){return fe[n]}})});var qn={w3cwebsocket:fe?Kt:null,version:Hn};class zn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+s));o=o+s;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}var Gn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const Jn=()=>{};class Wn{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=bn,this.params={},this.timeout=Wt,this.transport=qn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jn,this.conn=null,this.sendBuffer=[],this.serializer=new zn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${it.websocket}`,(t==null?void 0:t.params)&&(this.params=t.params),(t==null?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(t==null?void 0:t.timeout)&&(this.timeout=t.timeout),(t==null?void 0:t.logger)&&(this.logger=t.logger),(t==null?void 0:t.transport)&&(this.transport=t.transport),(t==null?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(t==null?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(t==null?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=(t==null?void 0:t.encode)?t.encode:(r,i)=>i(JSON.stringify(r)),this.decode=(t==null?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vt(()=>Gn(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,i)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(s){r({error:s,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case le.connecting:return"connecting";case le.open:return"open";case le.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){let r=new En(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a.isMember(r)).forEach(a=>a.trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gn}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(I.access_token,{access_token:e})})}catch(t){console.log("setAuth error",t)}}leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r.isJoined()||r.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(I.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(wn,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Vn{constructor(e,t,r,i){const s={},o=i==="*"?`realtime:${r}`:`realtime:${r}:${i}`,a=t.Authorization.split(" ")[1];a&&(s.user_token=a),this.subscription=e.channel(o,s)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=kt(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=kt(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let i={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{},errors:r.errors};i=Object.assign(Object.assign({},i),this.getPayloadRecords(r)),t(i)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class Kn extends Gt{constructor(e,{headers:t={},schema:r,realtime:i,table:s,fetch:o}){super(e,{headers:t,schema:r,fetch:o});this._subscription=null,this._realtime=i,this._headers=t,this._schema=r,this._table=s}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Vn(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const Xn="0.0.0",Yn={"X-Client-Info":`storage-js/${Xn}`};var ve=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const Qn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zn=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:Qn(t),status:(n==null?void 0:n.status)||500}))},ei=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ie(n,e,t,r,i,s){return ve(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,ei(e,r,i,s)).then(c=>{if(!c.ok)throw c;return(r==null?void 0:r.noResolveJson)?o(c):c.json()}).then(c=>o(c)).catch(c=>Zn(c,a))})})}function st(n,e,t,r){return ve(this,void 0,void 0,function*(){return Ie(n,"GET",e,t,r)})}function G(n,e,t,r,i){return ve(this,void 0,void 0,function*(){return Ie(n,"POST",e,r,i,t)})}function ti(n,e,t,r,i){return ve(this,void 0,void 0,function*(){return Ie(n,"PUT",e,r,i,t)})}function Xt(n,e,t,r,i){return ve(this,void 0,void 0,function*(){return Ie(n,"DELETE",e,r,i,t)})}const Yt=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=lt:e=fetch,(...t)=>e(...t)};var Z=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class ri{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yn),t),this.fetch=Yt(r)}listBuckets(){return Z(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return Z(this,void 0,void 0,function*(){try{return{data:(yield G(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield G(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var B=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const ni={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ii={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class si{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Yt(i)}uploadOrUpdate(e,t,r,i){return B(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},ii),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(t),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:s,headers:a});if(u.ok)return{data:{Key:l},error:null};{const h=yield u.json();return{data:null,error:h}}}catch(s){return{data:null,error:s}}})}upload(e,t,r){return B(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return B(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return B(this,void 0,void 0,function*(){try{return{data:yield G(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}copy(e,t){return B(this,void 0,void 0,function*(){try{return{data:yield G(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return B(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let i=yield G(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const s=`${this.url}${i.signedURL}`;return i={signedURL:s},{data:i,error:null,signedURL:s}}catch(r){return{data:null,error:r,signedURL:null}}})}createSignedUrls(e,t){return B(this,void 0,void 0,function*(){try{return{data:(yield G(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(i=>Object.assign(Object.assign({},i),{signedURL:i.signedURL?`${this.url}${i.signedURL}`:null})),error:null}}catch(r){return{data:null,error:r}}})}download(e){return B(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield st(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return B(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return B(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ni),t),{prefix:e||""});return{data:yield G(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){return{data:null,error:i}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class oi extends ri{constructor(e,t={},r){super(e,t,r)}from(e){return new si(this.url,this.headers,e,this.fetch)}}var We=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const ai={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:zt};class ui{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=Br(e),s=Object.assign(Object.assign({},ai),r);this.restUrl=`${i}/rest/v1`,this.realtimeUrl=`${i}/realtime/v1`.replace("http","ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.schema=s.schema,this.multiTab=s.multiTab,this.fetch=s.fetch,this.headers=Object.assign(Object.assign({},zt),r==null?void 0:r.headers),this.auth=this._initSupabaseAuthClient(s),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},s.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new oi(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new Kn(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}rpc(e,t,{head:r=!1,count:i=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:i})}removeAllSubscriptions(){return We(this,void 0,void 0,function*(){const e=this.getSubscriptions().slice(),t=e.map(i=>this.removeSubscription(i));return(yield Promise.all(t)).map(({error:i},s)=>({data:{subscription:e[s]},error:i}))})}removeSubscription(e){return We(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),i=r.filter(s=>s.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openSubscriptions:i},error:t}})}_closeSubscription(e){return We(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){const{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",r=>t({error:r})).receive("timeout",()=>t({error:new Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,headers:s,fetch:o}){const a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new on({url:this.authUrl,headers:Object.assign(Object.assign({},s),a),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,fetch:o})}_initRealtimeClient(e){return new Wn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new hn(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var e,t;const r=this.headers,i=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${i}`,r}_listenForMultiTabEvents(){if(!this.multiTab||!Lr()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,r,i;if(e.key===Dr){const s=JSON.parse(String(e.newValue)),o=(r=(t=s==null?void 0:s.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0,a=(i=this.auth.session())===null||i===void 0?void 0:i.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),r=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const Js=(n,e,t)=>new ui(n,e,t);var ft={exports:{}},Qt=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},ci=Qt,q=Object.prototype.toString;function pt(n){return Array.isArray(n)}function ot(n){return typeof n=="undefined"}function li(n){return n!==null&&!ot(n)&&n.constructor!==null&&!ot(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Zt(n){return q.call(n)==="[object ArrayBuffer]"}function hi(n){return q.call(n)==="[object FormData]"}function di(n){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Zt(n.buffer),e}function fi(n){return typeof n=="string"}function pi(n){return typeof n=="number"}function er(n){return n!==null&&typeof n=="object"}function xe(n){if(q.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function mi(n){return q.call(n)==="[object Date]"}function vi(n){return q.call(n)==="[object File]"}function yi(n){return q.call(n)==="[object Blob]"}function tr(n){return q.call(n)==="[object Function]"}function _i(n){return er(n)&&tr(n.pipe)}function bi(n){return q.call(n)==="[object URLSearchParams]"}function gi(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function wi(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function mt(n,e){if(!(n===null||typeof n=="undefined"))if(typeof n!="object"&&(n=[n]),pt(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function at(){var n={};function e(i,s){xe(n[s])&&xe(i)?n[s]=at(n[s],i):xe(i)?n[s]=at({},i):pt(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)mt(arguments[t],e);return n}function Ei(n,e,t){return mt(e,function(i,s){t&&typeof i=="function"?n[s]=ci(i,t):n[s]=i}),n}function Si(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var x={isArray:pt,isArrayBuffer:Zt,isBuffer:li,isFormData:hi,isArrayBufferView:di,isString:fi,isNumber:pi,isObject:er,isPlainObject:xe,isUndefined:ot,isDate:mi,isFile:vi,isBlob:yi,isFunction:tr,isStream:_i,isURLSearchParams:bi,isStandardBrowserEnv:wi,forEach:mt,merge:at,extend:Ei,trim:gi,stripBOM:Si},ee=x;function Ot(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var rr=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(ee.isURLSearchParams(t))i=t.toString();else{var s=[];ee.forEach(t,function(c,l){c===null||typeof c=="undefined"||(ee.isArray(c)?l=l+"[]":c=[c],ee.forEach(c,function(h){ee.isDate(h)?h=h.toISOString():ee.isObject(h)&&(h=JSON.stringify(h)),s.push(Ot(l)+"="+Ot(h))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Ti=x;function De(){this.handlers=[]}De.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};De.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};De.prototype.forEach=function(e){Ti.forEach(this.handlers,function(r){r!==null&&e(r)})};var ki=De,Oi=x,Ci=function(e,t){Oi.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},nr=function(e,t,r,i,s){return e.config=t,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Ai=nr,ir=function(e,t,r,i,s){var o=new Error(e);return Ai(o,t,r,i,s)},Ri=ir,ji=function(e,t,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(Ri("Request failed with status code "+r.status,r.config,null,r.request,r))},Ce=x,xi=Ce.isStandardBrowserEnv()?function(){return{write:function(t,r,i,s,o,a){var c=[];c.push(t+"="+encodeURIComponent(r)),Ce.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Ce.isString(s)&&c.push("path="+s),Ce.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),$i=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Pi=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Ui=$i,Ni=Pi,Ii=function(e,t){return e&&!Ui(t)?Ni(e,t):t},Ve=x,Di=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Bi=function(e){var t={},r,i,s;return e&&Ve.forEach(e.split(`
`),function(a){if(s=a.indexOf(":"),r=Ve.trim(a.substr(0,s)).toLowerCase(),i=Ve.trim(a.substr(s+1)),r){if(t[r]&&Di.indexOf(r)>=0)return;r==="set-cookie"?t[r]=(t[r]?t[r]:[]).concat([i]):t[r]=t[r]?t[r]+", "+i:i}}),t},Ct=x,Li=Ct.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),r;function i(s){var o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){var a=Ct.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function vt(n){this.message=n}vt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vt.prototype.__CANCEL__=!0;var Be=vt,Ae=x,Mi=ji,Fi=xi,Hi=rr,qi=Ii,zi=Bi,Gi=Li,Ke=ir,Ji=Me,Wi=Be,At=function(e){return new Promise(function(r,i){var s=e.data,o=e.headers,a=e.responseType,c;function l(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Ae.isFormData(s)&&delete o["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(h+":"+p)}var b=qi(e.baseURL,e.url);u.open(e.method.toUpperCase(),Hi(b,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function _(){if(!!u){var S="getAllResponseHeaders"in u?zi(u.getAllResponseHeaders()):null,P=!a||a==="text"||a==="json"?u.responseText:u.response,U={data:P,status:u.status,statusText:u.statusText,headers:S,config:e,request:u};Mi(function(M){r(M),l()},function(M){i(M),l()},U),u=null}}if("onloadend"in u?u.onloadend=_:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(_)},u.onabort=function(){!u||(i(Ke("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(Ke("Network Error",e,null,u)),u=null},u.ontimeout=function(){var P=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",U=e.transitional||Ji.transitional;e.timeoutErrorMessage&&(P=e.timeoutErrorMessage),i(Ke(P,e,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},Ae.isStandardBrowserEnv()){var C=(e.withCredentials||Gi(b))&&e.xsrfCookieName?Fi.read(e.xsrfCookieName):void 0;C&&(o[e.xsrfHeaderName]=C)}"setRequestHeader"in u&&Ae.forEach(o,function(P,U){typeof s=="undefined"&&U.toLowerCase()==="content-type"?delete o[U]:u.setRequestHeader(U,P)}),Ae.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&a!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(S){!u||(i(!S||S&&S.type?new Wi("canceled"):S),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),s||(s=null),u.send(s)})},k=x,Rt=Ci,Vi=nr,Ki={"Content-Type":"application/x-www-form-urlencoded"};function jt(n,e){!k.isUndefined(n)&&k.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Xi(){var n;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(n=At),n}function Yi(n,e,t){if(k.isString(n))try{return(e||JSON.parse)(n),k.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var Le={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Xi(),transformRequest:[function(e,t){return Rt(t,"Accept"),Rt(t,"Content-Type"),k.isFormData(e)||k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)?e:k.isArrayBufferView(e)?e.buffer:k.isURLSearchParams(e)?(jt(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):k.isObject(e)||t&&t["Content-Type"]==="application/json"?(jt(t,"application/json"),Yi(e)):e}],transformResponse:[function(e){var t=this.transitional||Le.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&k.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Vi(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};k.forEach(["delete","get","head"],function(e){Le.headers[e]={}});k.forEach(["post","put","patch"],function(e){Le.headers[e]=k.merge(Ki)});var Me=Le,Qi=x,Zi=Me,es=function(e,t,r){var i=this||Zi;return Qi.forEach(r,function(o){e=o.call(i,e,t)}),e},sr=function(e){return!!(e&&e.__CANCEL__)},xt=x,Xe=es,ts=sr,rs=Me,ns=Be;function Ye(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ns("canceled")}var is=function(e){Ye(e),e.headers=e.headers||{},e.data=Xe.call(e,e.data,e.headers,e.transformRequest),e.headers=xt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),xt.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||rs.adapter;return t(e).then(function(i){return Ye(e),i.data=Xe.call(e,i.data,i.headers,e.transformResponse),i},function(i){return ts(i)||(Ye(e),i&&i.response&&(i.response.data=Xe.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},$=x,or=function(e,t){t=t||{};var r={};function i(u,h){return $.isPlainObject(u)&&$.isPlainObject(h)?$.merge(u,h):$.isPlainObject(h)?$.merge({},h):$.isArray(h)?h.slice():h}function s(u){if($.isUndefined(t[u])){if(!$.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],t[u])}function o(u){if(!$.isUndefined(t[u]))return i(void 0,t[u])}function a(u){if($.isUndefined(t[u])){if(!$.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,t[u])}function c(u){if(u in t)return i(e[u],t[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return $.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var p=l[h]||s,b=p(h);$.isUndefined(b)&&p!==c||(r[h]=b)}),r},ar={version:"0.26.0"},ss=ar.version,yt={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){yt[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var $t={};yt.transitional=function(e,t,r){function i(s,o){return"[Axios v"+ss+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(t?" in "+t:"")));return t&&!$t[o]&&($t[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function os(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+s)}}var as={assertOptions:os,validators:yt},ur=x,us=rr,Pt=ki,Ut=is,Fe=or,cr=as,te=cr.validators;function ye(n){this.defaults=n,this.interceptors={request:new Pt,response:new Pt}}ye.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fe(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&cr.assertOptions(r,{silentJSONParsing:te.transitional(te.boolean),forcedJSONParsing:te.transitional(te.boolean),clarifyTimeoutError:te.transitional(te.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(s=s&&b.synchronous,i.unshift(b.fulfilled,b.rejected))});var o=[];this.interceptors.response.forEach(function(b){o.push(b.fulfilled,b.rejected)});var a;if(!s){var c=[Ut,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var l=t;i.length;){var u=i.shift(),h=i.shift();try{l=u(l)}catch(p){h(p);break}}try{a=Ut(l)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};ye.prototype.getUri=function(e){return e=Fe(this.defaults,e),us(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ur.forEach(["delete","get","head","options"],function(e){ye.prototype[e]=function(t,r){return this.request(Fe(r||{},{method:e,url:t,data:(r||{}).data}))}});ur.forEach(["post","put","patch"],function(e){ye.prototype[e]=function(t,r,i){return this.request(Fe(i||{},{method:e,url:t,data:r}))}});var cs=ye,ls=Be;function ie(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var t=this;this.promise.then(function(r){if(!!t._listeners){var i,s=t._listeners.length;for(i=0;i<s;i++)t._listeners[i](r);t._listeners=null}}),this.promise.then=function(r){var i,s=new Promise(function(o){t.subscribe(o),i=o}).then(r);return s.cancel=function(){t.unsubscribe(i)},s},n(function(i){t.reason||(t.reason=new ls(i),e(t.reason))})}ie.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ie.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};ie.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};ie.source=function(){var e,t=new ie(function(i){e=i});return{token:t,cancel:e}};var hs=ie,ds=function(e){return function(r){return e.apply(null,r)}},fs=x,ps=function(e){return fs.isObject(e)&&e.isAxiosError===!0},Nt=x,ms=Qt,$e=cs,vs=or,ys=Me;function lr(n){var e=new $e(n),t=ms($e.prototype.request,e);return Nt.extend(t,$e.prototype,e),Nt.extend(t,e),t.create=function(i){return lr(vs(n,i))},t}var L=lr(ys);L.Axios=$e;L.Cancel=Be;L.CancelToken=hs;L.isCancel=sr;L.VERSION=ar.version;L.all=function(e){return Promise.all(e)};L.spread=ds;L.isAxiosError=ps;ft.exports=L;ft.exports.default=L;var Ws=ft.exports;export{Bs as A,kr as B,dr as C,Fs as D,Ps as E,bs as F,ws as G,Es as H,gs as I,Gs as J,qs as K,Qe as L,As as M,Ts as N,W as O,pe as P,_s as Q,Hs as R,Ar as S,zs as T,Ws as U,Js as V,K as a,v as b,ks as c,N as d,br as e,Rs as f,he as g,wr as h,Cr as i,Cs as j,Ss as k,gt as l,Os as m,Us as n,Is as o,Ns as p,Sr as q,$s as r,Dt as s,ut as t,xs as u,js as v,Ls as w,Ms as x,Tr as y,Ds as z};
